{% extends "base.j2" %}

{% block content %}

<div class="w-full lg:justify-center lg:flex-row flex-col flex mt-4 md:mt-20 mb-10">

    <div class="flex justify-center mb-4">
        <button 
            id="menuButton" 
            class="rounded border border-black dark:border-gray-100 shadow hover:shadow-lg px-2 py-1 lg:hidden w-40 text-xl dark:text-gray-100"
            onClick="toggleMenu()"
        >
            Menu
        </button>

    </div>

    <nav id="menu" class="lg:mr-10 mb-4 lg:block hidden">
        <ul>
            <li class="px-1">
                <a href="/">
                    <h2 class="text-xl hover:underline font-semibold"> Home </h2>
                </a>
            </li>
        </ul>

        <div class="w-full h-px bg-gray-300 mb-3 mx-1"></div>

        <ul>
            <li class="px-1">
                <a href="{{ collections.tutorial[0].get_permalink() }}">
                    <h2 class="text-lg font-semibold hover:underline">Tutorial</h2>
                </a>
            </li>
            {% for tutorial in collections.tutorial %}
            <li
                {% if page.get_permalink() == tutorial.get_permalink() %}
                aria-current="page"
                class="bg-indigo-50 dark:bg-indigo-900 px-1 rounded"
                {% else %}
                class="px-1"
                {% endif %}
            >
                <a 
                    href="{{ tutorial.get_permalink() }}"
                    class="hover:underline"    
                >
                    {{ tutorial.data.title }}
                </a>
            </li>
            {% endfor %}
        </ul>
    </nav>
        
    <main class="flex flex-col items-center  mx-1 md:mx-0">
        <section class="prose w-full md:w-188">
            {{ content }}
        </section>
    </main>

</div>

<script>

menuActive = false;

function toggleMenu() {

    /*
    Inactive: dark:text-gray-100 
    Active: bg-black dark:bg-gray-100 text-gray-100 dark:text-black

    */

    let inactiveClasses = ["dark:text-gray-100"]
    let activeClasses = ["bg-black", "dark:bg-gray-100", "text-gray-100", "dark:text-black"]


    let menu = document.getElementById("menu");
    let menuButton = document.getElementById("menuButton");

    if (!menuActive) {
        menu.classList.remove("hidden");
        inactiveClasses.forEach(className => menuButton.classList.remove(className));
        activeClasses.forEach(className => menuButton.classList.add(className));
        menuActive = true;
    } else {
        menu.classList.add("hidden");
        inactiveClasses.forEach(className => menuButton.classList.add(className));
        activeClasses.forEach(className => menuButton.classList.remove(className));
        menuActive = false;
    }

}
</script>

{% endblock %}